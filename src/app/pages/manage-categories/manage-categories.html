<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Page Header -->
    <div class="flex flex-col sm:flex-row justify-between items-center mb-8 bg-white p-6 rounded-xl shadow-md">
        <h1 class="text-4xl font-extrabold text-gray-900 mb-4 sm:mb-0">Category Management</h1>
        <a routerLink="/add-category"
            class="bg-gradient-to-r from-purple-600 to-indigo-700 text-white font-bold py-3 px-6 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-in-out flex items-center space-x-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd"
                    d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                    clip-rule="evenodd" />
            </svg>
            <span>Add New Category</span>
        </a>
    </div>

    <!-- Loading Spinner -->
    <div *ngIf="isLoading" class="flex justify-center py-20">
        <app-spinner></app-spinner>
    </div>

    <!-- Error Message -->
    <div *ngIf="error"
        class="animate-fade-in bg-red-50 border border-red-300 text-red-800 px-6 py-4 rounded-lg relative mb-8 shadow-md"
        role="alert">
        <strong class="font-bold mr-2">Oops!</strong> <span class="block sm:inline">{{ error }}</span>
        <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
            <svg class="fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20">
                <title>Close</title>
                <path
                    d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 2.652a1.2 1.2 0 1 1-1.697-1.697l2.758-2.758-2.758-2.758a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-2.652a1.2 1.2 0 1 1 1.697 1.697l-2.758 2.758 2.758 2.758a1.2 1.2 0 0 1 0 1.697z" />
            </svg>
        </span>
    </div>

    <!-- Categories Table -->
    <div *ngIf="!isLoading && !error" class="bg-white rounded-xl shadow-lg overflow-hidden relative">
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th scope="col"
                            class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
                            Category Name
                        </th>
                        <th scope="col"
                            class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
                            Actions
                        </th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <!-- Empty State -->
                    <tr *ngIf="categories.length === 0">
                        <td colspan="2" class="px-6 py-12 text-center text-gray-500 text-lg">
                            <p class="mb-2">No categories found.</p>
                            <p class="text-sm">Click "Add New Category" to create one!</p>
                        </td>
                    </tr>
                    <!-- Data Rows -->
                    <tr *ngFor="let category of categories"
                        class="hover:bg-gray-50 transition-colors duration-200 ease-in-out">
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                            {{ category.name }}
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <a [routerLink]="['/edit-category', category.id]"
                                class="text-indigo-600 hover:text-indigo-900 font-semibold mr-4 transition-colors duration-200 ease-in-out">
                                Edit
                            </a>
                            <button (click)="deleteCategory(category.id, category.name)"
                                class="text-red-600 hover:text-red-900 font-semibold transition-colors duration-200 ease-in-out">
                                Delete
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>