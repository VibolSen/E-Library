<div class="min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 p-6 sm:p-10">
    <div class="container mx-auto max-w-6xl">
        <!-- Back and Edit Buttons -->
        <div class="flex justify-between items-center mb-8 animate-fade-in">
            <a routerLink="/manage-books"
                class="inline-flex items-center text-lg text-blue-700 hover:text-blue-900 font-medium transition-all duration-300 ease-in-out">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                </svg>
                Back to List
            </a>
            <a *ngIf="book" [routerLink]="['/edit-book', book.id]"
                class="bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg shadow-md hover:bg-blue-700 hover:shadow-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5">
                Edit Book
            </a>
        </div>

        <!-- Loading and Error States -->
        <div *ngIf="isLoading" class="flex justify-center py-20 animate-fade-in">
            <!-- Assuming app-spinner is styled nicely, if not, consider adding Tailwind for it -->
            <app-spinner></app-spinner>
        </div>
        <div *ngIf="error"
            class="bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg relative shadow-md animate-fade-in"
            role="alert">
            <strong class="font-bold mr-2">Error:</strong> {{ error }}
            <p class="text-sm mt-1">Please try again or contact support if the issue persists.</p>
        </div>

        <!-- Book Details Panel -->
        <div *ngIf="!isLoading && !error && book"
            class="bg-white rounded-xl shadow-2xl overflow-hidden animate-fade-in-up">
            <div class="flex flex-col md:flex-row">
                <!-- Cover Image Section -->
                <div class="md:w-1/3 p-4 bg-gray-50 flex items-center justify-center">
                    <img [src]="book.coverImageUrl | imageUrl" [alt]="book.title"
                        class="w-full h-auto max-h-[500px] object-contain rounded-lg shadow-xl border border-gray-200 transform hover:scale-105 transition-transform duration-300 ease-in-out">
                </div>
                <!-- Info Section -->
                <div class="md:w-2/3 p-8 sm:p-10 lg:p-12 space-y-6">
                    <div>
                        <h1 class="text-5xl font-extrabold text-gray-900 leading-tight">{{ book.title }}</h1>
                        <p class="text-2xl text-gray-700 mt-2 font-light italic">by {{ book.author }}</p>
                    </div>

                    <div
                        class="bg-blue-100 text-blue-800 text-sm font-semibold inline-flex items-center px-4 py-1.5 rounded-full tracking-wide uppercase shadow-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
                        </svg>
                        {{ book.categoryName }}
                    </div>

                    <div class="border-t border-gray-200 my-6"></div>

                    <div>
                        <h3 class="text-xl font-bold text-gray-800 mb-3">Description</h3>
                        <p class="text-gray-700 leading-relaxed text-lg">
                            {{ book.description || 'No description available for this book.' }}
                        </p>
                    </div>

                    <div class="border-t border-gray-200 my-6"></div>

                    <div>
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Book Details</h3>
                        <dl class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-5 text-lg">
                            <div>
                                <dt class="font-semibold text-gray-600 mb-1">Publisher</dt>
                                <dd class="text-gray-900">{{ book.publisher || 'N/A' }}</dd>
                            </div>
                            <div>
                                <dt class="font-semibold text-gray-600 mb-1">Published Date</dt>
                                <dd class="text-gray-900">
                                    {{ book.publishedDate ? (book.publishedDate | date:'longDate') : 'N/A' }}
                                </dd>
                            </div>
                            <div>
                                <dt class="font-semibold text-gray-600 mb-1">ISBN</dt>
                                <dd class="text-gray-900">{{ book.isbn || 'N/A' }}</dd>
                            </div>
                        </dl>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    @keyframes fade-in {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes fade-in-up {
        from {
            opacity: 0;
            transform: translateY(20px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fade-in {
        animation: fade-in 0.5s ease-out forwards;
    }

    .animate-fade-in-up {
        animation: fade-in-up 0.6s ease-out forwards;
    }
</style>